{"ast":null,"code":"import _defineProperty from \"/home/renandev/Documentos/alarsys/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/renandev/Documentos/alarsys/frontend/src/components/user/AlarmCrud.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Main from '../template/Main';\nconst baseUrl = 'http://localhost:3000/Alarmes'; // Estado inicial de cadastro de equipamento\n\nconst initialState = {\n  Alarmes: {\n    id: '',\n    descAlarm: '',\n    classificacao: '',\n    equipamentoRelacionado: '',\n    dataCadastro: ''\n  },\n  list: []\n};\nexport default class AlarmCrud extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = _objectSpread({}, initialState);\n  }\n\n  componentWillMount() {\n    axios(baseUrl).then(resp => {\n      this.setState({\n        list: resp.data\n      });\n    });\n  }\n\n  clear() {\n    this.setState({\n      Alarmes: initialState.Alarmes\n    });\n  }\n\n  save() {\n    const alarm = this.state.alarm;\n    const method = alarm.id ? 'put' : 'post';\n    const url = alarm.id ? \"\".concat(baseUrl, \"/\").concat(alarm.id) : baseUrl;\n    axios[method](url, alarm).then(resp => {\n      const list = this.getUpdateList(resp.data);\n      this.setState({\n        alarm: initialState.alarm,\n        list\n      });\n    });\n  }\n\n  getUpdateList(alarm, add = true) {\n    const list = this.state.list.filter(u => u.id !== alarm.id);\n    if (add) list.unshift(alarm);\n    return list;\n  }\n\n  updateField(event) {\n    const alarm = _objectSpread({}, this.state.alarm);\n\n    alarm[event.target.name] = event.target.value;\n    this.setState({\n      alarm\n    });\n  }\n\n  renderForm() {}\n\n  load(alarm) {\n    this.setState({\n      alarm\n    });\n  }\n\n  remove(alarm) {\n    axios.delete(\"\".concat(baseUrl, \"/\").concat(alarm.id)).then(resp => {\n      const list = this.getUpdateList(alarm, false);\n      this.setState({\n        list\n      });\n    });\n  }\n\n  renderTable() {\n    return React.createElement(\"table\", {\n      className: \"table mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Descri\\xE7\\xE3o\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Classifica\\xE7\\xE3o\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Equipamento\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.renderRows()));\n  }\n\n  renderRows() {\n    return this.state.list.map(alarm => {\n      return React.createElement(\"tr\", {\n        key: alarm.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, alarm.descAlarm), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, alarm.classificacao), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, alarm.equipamentoRelacionado), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, alarm.dataCadastro), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-danger ml-2\",\n        onClick: () => this.remove(alarm),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-trash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }))));\n    });\n  }\n\n  render() {\n    return React.createElement(Main, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.renderForm(), this.renderTable());\n  }\n\n}\n;","map":{"version":3,"sources":["/home/renandev/Documentos/alarsys/frontend/src/components/user/AlarmCrud.jsx"],"names":["React","Component","axios","Main","baseUrl","initialState","Alarmes","id","descAlarm","classificacao","equipamentoRelacionado","dataCadastro","list","AlarmCrud","state","componentWillMount","then","resp","setState","data","clear","save","alarm","method","url","getUpdateList","add","filter","u","unshift","updateField","event","target","name","value","renderForm","load","remove","delete","renderTable","renderRows","map","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport Main from '../template/Main'\n\nconst baseUrl = 'http://localhost:3000/Alarmes';\n// Estado inicial de cadastro de equipamento\nconst initialState = {\n    Alarmes: { id: '' , descAlarm: '' , classificacao: '' , equipamentoRelacionado: '' , dataCadastro: '' },\n    list: []\n};\n\nexport default class AlarmCrud extends Component {\n\n    state = {...initialState};\n\n    componentWillMount(){\n        axios(baseUrl).then(resp => {\n            this.setState({ list: resp.data})\n        })\n    };\n\n    clear() {\n        this.setState({ Alarmes: initialState.Alarmes })\n    };\n\n    save() {\n        const alarm = this.state.alarm;\n        const method = alarm.id ? 'put' : 'post';\n        const url = alarm.id ? `${baseUrl}/${alarm.id}` : baseUrl;\n        axios[method](url,alarm)\n            .then(resp => {\n                const list = this.getUpdateList(resp.data);\n                this.setState({ alarm: initialState.alarm, list})\n            })\n    };\n\n    getUpdateList(alarm, add = true) {\n        const list = this.state.list.filter(u => u.id !== alarm.id);\n        if(add) list.unshift(alarm)\n        return list\n    };\n\n    updateField(event) {\n        const alarm = {...this.state.alarm }\n        alarm[event.target.name] = event.target.value\n        this.setState ({ alarm })\n    };\n\n    renderForm() {\n\n    }\n\n    load(alarm) {\n        this.setState({ alarm })\n    };\n\n    remove(alarm) {\n        axios.delete(`${baseUrl}/${alarm.id}`).then(resp => {\n            const list = this.getUpdateList(alarm, false)\n            this.setState({ list })\n        })\n    };\n\n    renderTable() {\n        return(\n            <table className=\"table mt-4\">\n                <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Descrição</th>\n                    <th>Classificação</th>\n                    <th>Equipamento</th>\n                    <th></th>\n                </tr>\n                </thead>\n                <tbody>\n                {this.renderRows()}\n                </tbody>\n            </table>\n        )\n    };\n\n    renderRows() {\n        return this.state.list.map(alarm =>{\n            return(\n                <tr key={alarm.id}>\n                    <td>{alarm.descAlarm}</td>\n                    <td>{alarm.classificacao}</td>\n                    <td>{alarm.equipamentoRelacionado}</td>\n                    <td>{alarm.dataCadastro}</td>\n                    <td>\n                        <button className=\"btn btn-danger ml-2\"\n                                onClick={() => this.remove(alarm)}>\n                            <i className=\"fa fa-trash\"></i>\n                        </button>\n                    </td>\n                </tr>\n            )\n        })\n    };\n    render () {\n        return (\n            <Main>\n                {this.renderForm()}\n                {this.renderTable()}\n            </Main>\n        )\n    }\n};"]},"metadata":{},"sourceType":"module"}